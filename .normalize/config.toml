# Normalize configuration
# See: https://github.com/rhi-zone/normalize

[daemon]
# enabled = true
# auto_start = true

[analyze]
clones = true
# Exclude normalize-languages/src from clone detection: ~98 language files all implement
# the same Language trait with nearly-identical Symbol constructors across extract_function,
# extract_container, extract_type. These are intentionally parallel, not copy-paste.
# Affects all analyze subcommands (no per-subcommand exclude yet — see TODO.md).
exclude = [
    # ~98 language files implement the same Language trait with nearly-identical
    # Symbol constructors. Intentionally parallel, not copy-paste.
    "crates/normalize-languages/src/**",
    # Package index has intentionally parallel parsers for each distro/repo —
    # each parser targets a different format but uses similar parsing scaffolding.
    "crates/normalize-package-index/src/**",
    # Surface-syntax input/output implement the same IR for each language —
    # intentionally parallel (typescript.rs, lua.rs, python.rs all read/write same nodes).
    "crates/normalize-surface-syntax/src/**",
    # Test files use similar setup/assertion patterns by design.
    "crates/normalize-typegen/tests/**",
    "**/tests/**",
    # Specs and CI files are not production code.
    "specs/**",
    "action.yml",
    # Markdown docs have similar structure but are not code.
    "docs/**",
    "**/*.md",
    # Cargo.toml and config files have similar structure by convention.
    "**/*.toml",
    "**/*.yml",
    "**/*.yaml",
    "**/*.json",
]
# hotspots_exclude = ["*.md", "*.json"]  # example: exclude markdown and JSON

# Per-rule configuration: { "rule-id" = { severity = "...", enabled = true/false } }
# Disable println-debug for CLI tools (we use println for output)
[analyze.rules."rust/println-debug"]
enabled = false

# js/console-log: re-enabled below with allow patterns

# Enable numeric literal suffix rule (disabled by default)
[analyze.rules."rust/numeric-type-annotation"]
enabled = true

# Enforce struct returns over tuples (dogfooding our own rule)
[analyze.rules."rust/tuple-return"]
severity = "error"
enabled = true

# Re-enable info-level rules for dogfooding (disabled by default for new users)
[analyze.rules."rust/unwrap-in-impl"]
enabled = true

[analyze.rules."rust/unnecessary-let"]
enabled = true

[analyze.rules."rust/unnecessary-type-alias"]
enabled = true

[analyze.rules."rust/chained-if-let"]
enabled = true

[analyze.rules."js/console-log"]
enabled = true
allow = ["**/fixtures/**"]

[analyze.rules."js/unnecessary-const"]
enabled = true

[analyze.rules."python/print-debug"]
enabled = true

[analyze.rules."python/tuple-return"]
enabled = true

[analyze.rules."go/fmt-print"]
enabled = true

[analyze.rules."go/many-returns"]
enabled = true

[analyze.rules."typescript/tuple-return"]
enabled = true

[analyze.rules."no-todo-comment"]
enabled = true

[aliases]
todo = ["TODO.md"]