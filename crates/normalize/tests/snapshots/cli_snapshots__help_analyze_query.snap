---
source: crates/normalize/tests/cli_snapshots.rs
expression: "snapshot_help(&[\"analyze\", \"query\"])"
---
Run tree-sitter or ast-grep queries against the codebase

Usage: normalize analyze query [OPTIONS] [pattern]

Arguments:
  [pattern]  Query pattern (S-expression or ast-grep)

Options:
      --jsonl                          Output one JSON object per line (for arrays)
  -p, --path <path>                    Path to search (defaults to root)
      --pretty                         Global flag: pretty
      --compact                        Global flag: compact
      --json                           Output machine-readable JSON
      --show-source                    Show full source for matches
  -c, --context-lines <context-lines>  Number of context lines
      --jq <jq>                        Filter output through jq expression
      --input-schema                   Print JSON Schema of the subcommand's input parameters and exit
  -r, --root <root>                    Root directory (defaults to current directory)
      --output-schema                  Print JSON Schema of the subcommand's return type and exit
      --params-json <params-json>      Provide all parameters as a JSON object instead of individual flags
  -h, --help                           Print help
