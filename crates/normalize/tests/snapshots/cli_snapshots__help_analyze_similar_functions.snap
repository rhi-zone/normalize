---
source: crates/normalize/tests/cli_snapshots.rs
assertion_line: 317
expression: "snapshot_help(&[\"analyze\", \"similar-functions\"])"
---
Detect similar (fuzzy-matching) functions via MinHash LSH

Usage: normalize analyze similar-functions [OPTIONS]

Options:
      --elide-identifiers        
      --elide-literals           
      --show-source              
      --min-lines <MIN_LINES>    Minimum lines for a function to be considered [default: 10] [default: 10]
      --similarity <SIMILARITY>  Minimum similarity threshold (0.0â€“1.0) [default: 0.85] [default: 0.85]
      --skeleton                 Skeleton mode: match on control-flow structure, ignoring body content
      --include-trait-impls      Include pairs where both functions share the same name (likely trait implementations). By default these are suppressed as intentionally parallel, not copy-paste
      --json                     Output as JSON
      --jsonl                    Output as JSON Lines (one object per line)
      --jq <EXPR>                Filter JSON output with jq expression (implies --json)
      --pretty                   Human-friendly output with colors and formatting
      --compact                  Compact output without colors (overrides TTY detection)
      --output-schema            Output JSON schema for the command's return type
  -r, --root <ROOT>              Root directory (defaults to current directory)
      --exclude <PATTERN>        Exclude paths matching pattern or @alias
      --input-schema             Output JSON schema for the command's input arguments
      --only <PATTERN>           Include only paths matching pattern or @alias
      --params-json <JSON>       Pass command arguments as JSON (overrides CLI args)
      --diff [<BASE>]            Analyze only files changed since base ref (e.g., main, HEAD~1) If no BASE given, defaults to origin's default branch
  -h, --help                     Print help
